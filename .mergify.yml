# Generated by .github/mergify/gen-config.sc
queue_rules:
- name: default
  conditions:
  - status-success=all tests passed
pull_request_rules:
- name: automatic squash-and-merge on CI success and review
  conditions:
  - status-success=all tests passed
  - '#approved-reviews-by>=1'
  - '#changes-requested-reviews-by=0'
  - base=main
  - label="Please Merge"
  - label!="DO NOT MERGE"
  - label!="bp-conflict"
  actions:
    queue:
      name: default
      method: squash
      update_method: merge
- name: backport to 5.x
  conditions:
  - merged
  - base=main
  - milestone=5.x
  actions:
    backport:
      branches:
      - 5.x
      labels:
      - Backport
      ignore_conflicts: true
      label_conflicts: bp-conflict
    label:
      add:
      - Backported
- name: backport to 3.6.x, 5.x
  conditions:
  - merged
  - base=main
  - milestone=3.6.x
  actions:
    backport:
      branches:
      - 3.6.x
      - 5.x
      labels:
      - Backport
      ignore_conflicts: true
      label_conflicts: bp-conflict
    label:
      add:
      - Backported
- name: backport to 3.5.x, 3.6.x, 5.x
  conditions:
  - merged
  - base=main
  - milestone=3.5.x
  actions:
    backport:
      branches:
      - 3.5.x
      - 3.6.x
      - 5.x
      labels:
      - Backport
      ignore_conflicts: true
      label_conflicts: bp-conflict
    label:
      add:
      - Backported
- name: automatic squash-and-mege of 3.5.x backport PRs
  conditions:
  - status-success=all tests passed
  - '#changes-requested-reviews-by=0'
  - base=3.5.x
  - label="Backport"
  - label!="DO NOT MERGE"
  - label!="bp-conflict"
  actions:
    queue:
      name: default
      method: squash
      update_method: merge
- name: automatic squash-and-mege of 3.6.x backport PRs
  conditions:
  - status-success=all tests passed
  - '#changes-requested-reviews-by=0'
  - base=3.6.x
  - label="Backport"
  - label!="DO NOT MERGE"
  - label!="bp-conflict"
  actions:
    queue:
      name: default
      method: squash
      update_method: merge
- name: automatic squash-and-mege of 5.x backport PRs
  conditions:
  - status-success=all tests passed
  - '#changes-requested-reviews-by=0'
  - base=5.x
  - label="Backport"
  - label!="DO NOT MERGE"
  - label!="bp-conflict"
  actions:
    queue:
      name: default
      method: squash
      update_method: merge

