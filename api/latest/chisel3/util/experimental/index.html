<!DOCTYPE html ><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/><title>chisel 6.6.0 - chisel3.util.experimental</title><meta content="chisel 6.6.0 - chisel3.util.experimental" name="description"/><meta content="chisel 6.6.0 chisel3.util.experimental" name="keywords"/><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><link href="../../../lib/index.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../lib/template.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../lib/print.css" media="print" type="text/css" rel="stylesheet"/><link href="../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css"/><script type="text/javascript" src="../../../lib/jquery.min.js"></script><script type="text/javascript" src="../../../lib/index.js"></script><script type="text/javascript" src="../../../index.js"></script><script type="text/javascript" src="../../../lib/scheduler.js"></script><script type="text/javascript" src="../../../lib/template.js"></script><script type="text/javascript" src="https://d3js.org/d3.v4.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/graphlib-dot@0.6.2/dist/graphlib-dot.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.1/dagre-d3.min.js"></script><script type="text/javascript">/* this variable can be used by the JS to determine the path to the root document */
var toRoot = '../../../';</script></head><body><div id="search"><span id="doc-title">chisel<span id="doc-version">6.6.0</span></span> <span class="close-results"><span class="left">&lt;</span> Back</span><div id="textfilter"><span class="input"><input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/"/><i class="clear material-icons"></i><i id="search-icon" class="material-icons"></i></span></div></div><div id="search-results"><div id="search-progress"><div id="progress-fill"></div></div><div id="results-content"><div id="entity-results"></div><div id="member-results"></div></div></div><div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;"><div id="content-container" style="-webkit-overflow-scrolling: touch;"><div id="subpackage-spacer"><div id="packages"><h1>Packages</h1><ul><li class="indented0 " name="_root_.root" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="_root_" class="anchorToMember"></a><a id="root:_root_" class="anchorToMember"></a> <span class="permalink"><a href="../../../index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../index.html" title=""><span class="name">root</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented1 " name="_root_.chisel3" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="chisel3" class="anchorToMember"></a><a id="chisel3:chisel3" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../index.html" title="This package contains the main chisel3 API."><span class="name">chisel3</span></a></span><p class="shortcomment cmt">This package contains the main chisel3 API.</p><div class="fullcomment"><div class="comment cmt"><p>This package contains the main chisel3 API.
</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented2 " name="chisel3.util" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="util" class="anchorToMember"></a><a id="util:util" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../index.html" title="The util package provides extensions to core chisel for common hardware components and utility functions"><span class="name">util</span></a></span><p class="shortcomment cmt">The util package provides extensions to core chisel for common hardware components and utility
functions
</p><div class="fullcomment"><div class="comment cmt"><p>The util package provides extensions to core chisel for common hardware components and utility
functions
</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../index.html" name="chisel3" id="chisel3" class="extype">chisel3</a></dd></dl></div></li><li class="indented3 " name="chisel3.util.circt" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="circt" class="anchorToMember"></a><a id="circt:circt" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/circt/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../circt/index.html" title=""><span class="name">circt</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="chisel3.util" id="chisel3.util" class="extype">util</a></dd></dl></div></li><li class="indented3 current" name="chisel3.util.experimental" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="experimental" class="anchorToMember"></a><a id="experimental:experimental" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/experimental/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><span class="name">experimental</span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="chisel3.util" id="chisel3.util" class="extype">util</a></dd></dl></div></li><li class="indented4 " name="chisel3.util.experimental.decode" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="decode" class="anchorToMember"></a><a id="decode:decode" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/experimental/decode/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="decode/index.html" title=""><span class="name">decode</span></a></span></li><li class="current-entities indented3"><a href="BitSet$.html" title="" class="object"></a> <a href="BitSet.html" title="A Set of BitPat represents a set of bit vector with mask." class="trait"></a><a href="BitSet.html" title="A Set of BitPat represents a set of bit vector with mask.">BitSet</a></li><li class="current-entities indented3"><span class="separator"></span> <a href="BoringUtils$.html" title="Utilities for generating synthesizable cross module references that &quot;bore&quot; through the hierarchy." class="object"></a><a href="BoringUtils$.html" title="Utilities for generating synthesizable cross module references that &quot;bore&quot; through the hierarchy.">BoringUtils</a></li><li class="current-entities indented3"><span class="separator"></span> <a href="BoringUtilsException.html" title="An exception related to BoringUtils" class="class"></a><a href="BoringUtilsException.html" title="An exception related to BoringUtils">BoringUtilsException</a></li><li class="current-entities indented3"><span class="separator"></span> <a href="FlattenInstance.html" title="Flattens an instance of a module" class="trait"></a><a href="FlattenInstance.html" title="Flattens an instance of a module">FlattenInstance</a></li><li class="current-entities indented3"><span class="separator"></span> <a href="ForceNameAnnotation.html" title="Links the user-specified name to force to, with the signal/instance in the FIRRTL design" class="class"></a><a href="ForceNameAnnotation.html" title="Links the user-specified name to force to, with the signal/instance in the FIRRTL design">ForceNameAnnotation</a></li><li class="current-entities indented3"><span class="separator"></span> <a href="InlineInstance.html" title="Inlines an instance of a module" class="trait"></a><a href="InlineInstance.html" title="Inlines an instance of a module">InlineInstance</a></li><li class="current-entities indented3"><span class="separator"></span> <a href="forceName$.html" title="" class="object"></a><a href="forceName$.html" title="">forceName</a></li><li class="current-entities indented3"><span class="separator"></span> <a href="getAnnotations$.html" title="" class="object"></a><a href="getAnnotations$.html" title="">getAnnotations</a></li><li class="current-entities indented3"><span class="separator"></span> <a href="loadMemoryFromFile$.html" title="loadMemoryFromFile is an annotation generator that helps with loading a memory from a text file as a bind module." class="object"></a><a href="loadMemoryFromFile$.html" title="loadMemoryFromFile is an annotation generator that helps with loading a memory from a text file as a bind module.">loadMemoryFromFile</a></li><li class="current-entities indented3"><span class="separator"></span> <a href="loadMemoryFromFileInline$.html" title="loadMemoryFromFileInline is an annotation generator that helps with loading a memory from a text file inlined in the Verilog module." class="object"></a><a href="loadMemoryFromFileInline$.html" title="loadMemoryFromFileInline is an annotation generator that helps with loading a memory from a text file inlined in the Verilog module.">loadMemoryFromFileInline</a></li><li class="indented3 " name="chisel3.util.random" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="random" class="anchorToMember"></a><a id="random:random" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/random/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../random/index.html" title=""><span class="name">random</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="chisel3.util" id="chisel3.util" class="extype">util</a></dd></dl></div></li></ul></div></div><div id="content"><body class="package value"><div id="definition"><div class="big-circle package">p</div><p id="owner"><a href="../../index.html" name="chisel3" id="chisel3" class="extype">chisel3</a>.<a href="../index.html" name="chisel3.util" id="chisel3.util" class="extype">util</a></p><h1>experimental<span class="permalink"><a href="../../../chisel3/util/experimental/index.html" title="Permalink"><i class="material-icons"></i></a></span></h1></div><h4 id="signature" class="signature"><span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><span class="name">experimental</span></span></h4><div id="comment" class="fullcommenttop"></div><div id="mbrsel"><div class="toggle"></div><div id="memberfilter"><i class="material-icons arrow"></i><span class="input"><input placeholder="Filter all members" id="mbrsel-input" type="text" accesskey="/"/></span><i class="clear material-icons"></i></div><div id="filterby"><div id="order"><span class="filtertype">Ordering</span><ol><li class="alpha in"><span>Alphabetic</span></li></ol></div><div id="visbl"><span class="filtertype">Visibility</span><ol><li class="public in"><span>Public</span></li><li class="protected out"><span>Protected</span></li></ol></div></div></div><div id="template"><div id="allMembers"><div id="packages" class="package members"><h3>Package Members</h3><ol><li class="indented0 " name="chisel3.util.experimental.decode" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="decode" class="anchorToMember"></a><a id="decode:decode" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/experimental/decode/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="decode/index.html" title=""><span class="name">decode</span></a></span></li></ol></div><div id="types" class="types members"><h3>Type Members</h3><ol><li class="indented0 " name="chisel3.util.experimental.BitSet" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="BitSetextendsAnyRef" class="anchorToMember"></a><a id="BitSet:BitSet" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/experimental/BitSet.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">sealed </span> <span class="kind">trait</span></span> <span class="symbol"><a href="BitSet.html" title="A Set of BitPat represents a set of bit vector with mask."><span class="name">BitSet</span></a><span class="result"> extends <a href="https://www.scala-lang.org/api/2.13.12/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span></span><p class="shortcomment cmt">A Set of <code>BitPat</code> represents a set of bit vector with mask.</p></li><li class="indented0 " name="chisel3.util.experimental.BoringUtilsException" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="BoringUtilsExceptionextendsException" class="anchorToMember"></a><a id="BoringUtilsException:BoringUtilsException" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/experimental/BoringUtilsException.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="BoringUtilsException.html" title="An exception related to BoringUtils"><span class="name">BoringUtilsException</span></a><span class="result"> extends <span name="scala.Exception" class="extype">Exception</span></span></span><p class="shortcomment cmt">An exception related to BoringUtils</p></li><li class="indented0 " name="chisel3.util.experimental.FlattenInstance" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="FlattenInstanceextendsAnyRef" class="anchorToMember"></a><a id="FlattenInstance:FlattenInstance" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/experimental/FlattenInstance.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">trait</span></span> <span class="symbol"><a href="FlattenInstance.html" title="Flattens an instance of a module"><span class="name">FlattenInstance</span></a><span class="result"> extends <a href="https://www.scala-lang.org/api/2.13.12/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span></span><p class="shortcomment cmt">Flattens an instance of a module
</p><div class="fullcomment"><div class="comment cmt"><p>Flattens an instance of a module
</p></div><dl class="attributes block"><div class="block">Example:<ol><li class="cmt"><p></p><pre><span class="kw">trait</span> Internals { <span class="kw">this</span>: Module <span class="kw">=&gt;</span>
  <span class="kw">val</span> io = IO(<span class="kw">new</span> Bundle{ <span class="kw">val</span> a = Input(Bool()) })
}
<span class="kw">class</span> Foo <span class="kw">extends</span> Module <span class="kw">with</span> Internals <span class="kw">with</span> FlattenInstance
<span class="kw">class</span> Bar <span class="kw">extends</span> Module <span class="kw">with</span> Internals {
  <span class="kw">val</span> baz = Module(<span class="kw">new</span> Baz)
  baz.io.a := io.a
}
<span class="kw">class</span> Baz <span class="kw">extends</span> Module <span class="kw">with</span> Internals
<span class="cmt">/* The resulting instances will be:
     - Top
     - Top.x
     - Top.y
     - Top.z
     - Top.z.baz */</span>
<span class="kw">class</span> Top <span class="kw">extends</span> Module <span class="kw">with</span> Internals {
  <span class="kw">val</span> x = Module(<span class="kw">new</span> Foo)                      <span class="cmt">// x will be flattened</span>
  <span class="kw">val</span> y = Module(<span class="kw">new</span> Bar <span class="kw">with</span> FlattenInstance) <span class="cmt">// y will also be flattened</span>
  <span class="kw">val</span> z = Module(<span class="kw">new</span> Bar)                      <span class="cmt">// z will not be flattened</span>
  <span class="std">Seq</span>(x, y, z).map(_.io.a := io.a)
}</pre></li></ol></div></dl></div></li><li class="indented0 " name="chisel3.util.experimental.ForceNameAnnotation" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="ForceNameAnnotationextendsSingleTargetAnnotation[firrtl.annotations.IsMember]withProductwithSerializable" class="anchorToMember"></a><a id="ForceNameAnnotation:ForceNameAnnotation" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/experimental/ForceNameAnnotation.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">case class</span></span> <span class="symbol"><a href="ForceNameAnnotation.html" title="Links the user-specified name to force to, with the signal/instance in the FIRRTL design"><span class="name">ForceNameAnnotation</span></a><span class="params">(<span name="target">target: <a href="../../../firrtl/annotations/IsMember.html" name="firrtl.annotations.IsMember" id="firrtl.annotations.IsMember" class="extype">IsMember</a></span>, <span name="name">name: <span name="scala.Predef.String" class="extype">String</span></span>)</span><span class="result"> extends <a href="../../../firrtl/annotations/SingleTargetAnnotation.html" name="firrtl.annotations.SingleTargetAnnotation" id="firrtl.annotations.SingleTargetAnnotation" class="extype">SingleTargetAnnotation</a>[<a href="../../../firrtl/annotations/IsMember.html" name="firrtl.annotations.IsMember" id="firrtl.annotations.IsMember" class="extype">IsMember</a>] with <a href="https://www.scala-lang.org/api/2.13.12/scala/Product.html#scala.Product" name="scala.Product" id="scala.Product" class="extype">Product</a> with <span name="scala.Serializable" class="extype">Serializable</span></span></span><p class="shortcomment cmt">Links the user-specified name to force to, with the signal/instance in the FIRRTL design
</p><div class="fullcomment"><div class="comment cmt"><p>Links the user-specified name to force to, with the signal/instance in the FIRRTL design
</p></div><dl class="paramcmts block"><dt class="param">target</dt><dd class="cmt"><p>signal/instance to force the name</p></dd><dt class="param">name</dt><dd class="cmt"><p>name to force it to be</p></dd></dl></div></li><li class="indented0 " name="chisel3.util.experimental.InlineInstance" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="InlineInstanceextendsAnyRef" class="anchorToMember"></a><a id="InlineInstance:InlineInstance" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/experimental/InlineInstance.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">trait</span></span> <span class="symbol"><a href="InlineInstance.html" title="Inlines an instance of a module"><span class="name">InlineInstance</span></a><span class="result"> extends <a href="https://www.scala-lang.org/api/2.13.12/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span></span><p class="shortcomment cmt">Inlines an instance of a module
</p><div class="fullcomment"><div class="comment cmt"><p>Inlines an instance of a module
</p></div><dl class="attributes block"><div class="block">Example:<ol><li class="cmt"><p></p><pre><span class="kw">trait</span> Internals { <span class="kw">this</span>: Module <span class="kw">=&gt;</span>
  <span class="kw">val</span> io = IO(<span class="kw">new</span> Bundle{ <span class="kw">val</span> a = Input(Bool()) })
}
<span class="kw">class</span> Sub <span class="kw">extends</span> Module <span class="kw">with</span> Internals
<span class="kw">trait</span> HasSub { <span class="kw">this</span>: Module <span class="kw">with</span> Internals <span class="kw">=&gt;</span>
  <span class="kw">val</span> sub = Module(<span class="kw">new</span> Sub)
  sub.io.a := io.a
}
<span class="cmt">/* InlineInstance is mixed directly into Foo's definition. Every instance
 * of this will be inlined. */</span>
<span class="kw">class</span> Foo <span class="kw">extends</span> Module <span class="kw">with</span> Internals <span class="kw">with</span> InlineInstance <span class="kw">with</span> HasSub
<span class="cmt">/* Bar will, by default, not be inlined */</span>
<span class="kw">class</span> Bar <span class="kw">extends</span> Module <span class="kw">with</span> Internals <span class="kw">with</span> HasSub
<span class="cmt">/* The resulting instances will be:
 - Top
 - Top.x$sub
 - Top.y$sub
 - Top.z
 - Top.z.sub */</span>
<span class="kw">class</span> Top <span class="kw">extends</span> Module <span class="kw">with</span> Internals {
  <span class="kw">val</span> x = Module(<span class="kw">new</span> Foo)                     <span class="cmt">// x will be inlined</span>
  <span class="kw">val</span> y = Module(<span class="kw">new</span> Bar <span class="kw">with</span> InlineInstance) <span class="cmt">// y will also be inlined</span>
  <span class="kw">val</span> z = Module(<span class="kw">new</span> Bar)                     <span class="cmt">// z will not be inlined</span>
  <span class="std">Seq</span>(x, y, z).map(_.io.a := io.a)
}</pre></li></ol></div></dl></div></li></ol></div><div class="values members"><h3>Value Members</h3><ol><li class="indented0 " name="chisel3.util.experimental.BitSet" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="BitSet" class="anchorToMember"></a><a id="BitSet:BitSet" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/experimental/BitSet$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="BitSet$.html" title=""><span class="name">BitSet</span></a></span></li><li class="indented0 " name="chisel3.util.experimental.BoringUtils" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="BoringUtils" class="anchorToMember"></a><a id="BoringUtils:BoringUtils" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/experimental/BoringUtils$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="BoringUtils$.html" title="Utilities for generating synthesizable cross module references that &quot;bore&quot; through the hierarchy."><span class="name">BoringUtils</span></a></span><p class="shortcomment cmt">Utilities for generating synthesizable cross module references that "bore" through the hierarchy.</p><div class="fullcomment"><div class="comment cmt"><p>Utilities for generating synthesizable cross module references that "bore" through the hierarchy. The underlying
cross module connects are handled by FIRRTL's Wiring Transform.</p><p>Consider the following example where you want to connect a component in one module to a component in another. Module
<code>Constant</code> has a wire tied to <code>42</code> and <code>Expect</code> will assert unless connected to <code>42</code>:</p><pre><span class="kw">class</span> Constant <span class="kw">extends</span> Module {
  <span class="kw">val</span> io = IO(<span class="kw">new</span> Bundle{})
  <span class="kw">val</span> x = Wire(UInt(<span class="num">6.</span>W))
  x := <span class="num">42.</span>U
}
<span class="kw">class</span> Expect <span class="kw">extends</span> Module {
  <span class="kw">val</span> io = IO(<span class="kw">new</span> Bundle{})
  <span class="kw">val</span> y = Wire(UInt(<span class="num">6.</span>W))
  y := <span class="num">0.</span>U
  <span class="cmt">// This assertion will fail unless we bore!</span>
  chisel3.assert(y === <span class="num">42.</span>U, <span class="lit">"y should be 42 in module Expect"</span>)
}</pre><p>We can then connect <code>x</code> to <code>y</code> using <a href="BoringUtils$.html" name="chisel3.util.experimental.BoringUtils" id="chisel3.util.experimental.BoringUtils" class="extype">BoringUtils</a> without modifiying the Chisel IO of <code>Constant</code>, <code>Expect</code>, or
modules that may instantiate them. There are two approaches to do this:</p><p>1. Hierarchical boring using BoringUtils.bore</p><p>2. Non-hierarchical boring using <a href="BoringUtils$.html#addSink(component:chisel3.InstanceId,name:String,disableDedup:Boolean,forceExists:Boolean):Unit" name="chisel3.util.experimental.BoringUtils#addSink" id="chisel3.util.experimental.BoringUtils#addSink" class="extmbr">BoringUtils.addSink</a>/<a href="BoringUtils$.html#addSource(component:chisel3.internal.NamedComponent,name:String,disableDedup:Boolean,uniqueName:Boolean):String" name="chisel3.util.experimental.BoringUtils#addSource" id="chisel3.util.experimental.BoringUtils#addSource" class="extmbr">BoringUtils.addSource</a></p><h5>Hierarchical Boring</h5><p>Hierarchical boring involves connecting one sink instance to another source instance in a parent module. Below,
module <code>Top</code> contains an instance of <code>Constant</code> and <code>Expect</code>. Using BoringUtils.bore, we can connect
<code>constant.x</code> to <code>expect.y</code>.</p><pre><span class="kw">class</span> Top <span class="kw">extends</span> Module {
  <span class="kw">val</span> io = IO(<span class="kw">new</span> Bundle{})
  <span class="kw">val</span> constant = Module(<span class="kw">new</span> Constant)
  <span class="kw">val</span> expect = Module(<span class="kw">new</span> Expect)
  BoringUtils.bore(constant.x, <span class="std">Seq</span>(expect.y))
}</pre><p>Bottom-up boring involves boring a sink in a child instance to the current module, where it can be assigned from.
Using BoringUtils.bore, we can connect from <code>constant.x</code> to <code>mywire</code>.</p><pre><span class="kw">class</span> Top <span class="kw">extends</span> Module {
  <span class="kw">val</span> io = IO(<span class="kw">new</span> Bundle { <span class="kw">val</span> foo = UInt(<span class="num">3.</span>W) })
  <span class="kw">val</span> constant = Module(<span class="kw">new</span> Constant)
  io.foo := BoringUtils.bore(constant.x)
}</pre><h5>Non-hierarchical Boring</h5><p>Non-hierarchical boring involves connections from sources to sinks that cannot see each other. Here, <code>x</code> is
described as a source and given a name, <code>uniqueId</code>, and <code>y</code> is described as a sink with the same name. This is
equivalent to the hierarchical boring example above, but requires no modifications to <code>Top</code>.</p><pre><span class="kw">class</span> Constant <span class="kw">extends</span> Module {
  <span class="kw">val</span> io = IO(<span class="kw">new</span> Bundle{})
  <span class="kw">val</span> x = Wire(UInt(<span class="num">6.</span>W))
  x := <span class="num">42.</span>U
  BoringUtils.addSource(x, <span class="lit">"uniqueId"</span>)
}
<span class="kw">class</span> Expect <span class="kw">extends</span> Module {
  <span class="kw">val</span> io = IO(<span class="kw">new</span> Bundle{})
  <span class="kw">val</span> y = Wire(UInt(<span class="num">6.</span>W))
  y := <span class="num">0.</span>U
  <span class="cmt">// This assertion will fail unless we bore!</span>
  chisel3.assert(y === <span class="num">42.</span>U, <span class="lit">"y should be 42 in module Expect"</span>)
  BoringUtils.addSink(y, <span class="lit">"uniqueId"</span>)
}
<span class="kw">class</span> Top <span class="kw">extends</span> Module {
  <span class="kw">val</span> io = IO(<span class="kw">new</span> Bundle{})
  <span class="kw">val</span> constant = Module(<span class="kw">new</span> Constant)
  <span class="kw">val</span> expect = Module(<span class="kw">new</span> Expect)
}</pre><h4>Comments</h4><p>Both hierarchical and non-hierarchical boring emit FIRRTL annotations that describe sources and sinks. These are
matched by a <code>name</code> key that indicates they should be wired together. Hierarchical boring safely generates this name
automatically. Non-hierarchical boring unsafely relies on user input to generate this name. Use of non-hierarchical
naming may result in naming conflicts that the user must handle.</p><p>The automatic generation of hierarchical names relies on a global, mutable namespace. This is currently persistent
across circuit elaborations.
</p></div></div></li><li class="indented0 " name="chisel3.util.experimental.forceName" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="forceName" class="anchorToMember"></a><a id="forceName:forceName" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/experimental/forceName$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="forceName$.html" title=""><span class="name">forceName</span></a></span></li><li class="indented0 " name="chisel3.util.experimental.getAnnotations" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="getAnnotations" class="anchorToMember"></a><a id="getAnnotations:getAnnotations" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/experimental/getAnnotations$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="getAnnotations$.html" title=""><span class="name">getAnnotations</span></a></span></li><li class="indented0 " name="chisel3.util.experimental.loadMemoryFromFile" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="loadMemoryFromFile" class="anchorToMember"></a><a id="loadMemoryFromFile:loadMemoryFromFile" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/experimental/loadMemoryFromFile$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="loadMemoryFromFile$.html" title="loadMemoryFromFile is an annotation generator that helps with loading a memory from a text file as a bind module."><span class="name">loadMemoryFromFile</span></a></span><p class="shortcomment cmt"><a href="loadMemoryFromFile$.html" name="chisel3.util.experimental.loadMemoryFromFile" id="chisel3.util.experimental.loadMemoryFromFile" class="extype">loadMemoryFromFile</a> is an annotation generator that helps with loading a memory from a text file as a bind module.</p><div class="fullcomment"><div class="comment cmt"><p><a href="loadMemoryFromFile$.html" name="chisel3.util.experimental.loadMemoryFromFile" id="chisel3.util.experimental.loadMemoryFromFile" class="extype">loadMemoryFromFile</a> is an annotation generator that helps with loading a memory from a text file as a bind module. This relies on
Verilator and Verilog's <code>$readmemh</code> or <code>$readmemb</code>.</p><p>This annotation, when a FIRRTL compiler runs will add Verilog directives to enable the specified memories to be
initialized from files.</p><h4>Example module</h4><p>Consider a simple Module containing a memory:</p><pre><span class="kw">import</span> chisel3._
<span class="kw">class</span> UsesMem(memoryDepth: <span class="std">Int</span>, memoryType: Data) <span class="kw">extends</span> Module {
  <span class="kw">val</span> io = IO(<span class="kw">new</span> Bundle {
    <span class="kw">val</span> address = Input(UInt(memoryType.getWidth.W))
    <span class="kw">val</span> value   = Output(memoryType)
  })
  <span class="kw">val</span> memory = Mem(memoryDepth, memoryType)
  io.value := memory(io.address)
}</pre><h4>Above module with annotation</h4><p>To load this memory from the file <code>/workspace/workdir/mem1.hex.txt</code> just add an import and annotate the memory:</p><pre><span class="kw">import</span> chisel3._
<span class="kw">import</span> chisel3.util.experimental.loadMemoryFromFile   <span class="cmt">// &lt;&lt;-- new import here</span>
<span class="kw">class</span> UsesMem(memoryDepth: <span class="std">Int</span>, memoryType: Data) <span class="kw">extends</span> Module {
  <span class="kw">val</span> io = IO(<span class="kw">new</span> Bundle {
    <span class="kw">val</span> address = Input(UInt(memoryType.getWidth.W))
    <span class="kw">val</span> value   = Output(memoryType)
  })
  <span class="kw">val</span> memory = Mem(memoryDepth, memoryType)
  io.value := memory(io.address)
  loadMemoryFromFile(memory, <span class="lit">"/workspace/workdir/mem1.hex.txt"</span>)  <span class="cmt">// &lt;&lt;-- Note the annotation here</span>
}</pre><h4>Example file format</h4><p>A memory file should consist of ASCII text in either hex or binary format. The following example shows such a
file formatted to use hex:</p><pre> <span class="num">0</span>
 <span class="num">7</span>
 d
<span class="num">15</span></pre><p>A binary file can be similarly constructed.
</p></div><dl class="attributes block"><dt>See also</dt><dd><span class="cmt"><p>
<a href="https://github.com/freechipsproject/chisel3/tree/master/src/test/scala/chiselTests/LoadMemoryFromFileSpec.scala" target="_blank">LoadMemoryFromFileSpec.scala</a> in the test suite for additional examples.</p></span><span class="cmt"><p>Chisel3 Wiki entry on
<a href="https://github.com/freechipsproject/chisel3/wiki/Chisel-Memories#loading-memories-in-simulation" target="_blank">"Loading Memories
in Simulation"</a></p></span></dd></dl></div></li><li class="indented0 " name="chisel3.util.experimental.loadMemoryFromFileInline" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="loadMemoryFromFileInline" class="anchorToMember"></a><a id="loadMemoryFromFileInline:loadMemoryFromFileInline" class="anchorToMember"></a> <span class="permalink"><a href="../../../chisel3/util/experimental/loadMemoryFromFileInline$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="loadMemoryFromFileInline$.html" title="loadMemoryFromFileInline is an annotation generator that helps with loading a memory from a text file inlined in the Verilog module."><span class="name">loadMemoryFromFileInline</span></a></span><p class="shortcomment cmt"><a href="loadMemoryFromFileInline$.html" name="chisel3.util.experimental.loadMemoryFromFileInline" id="chisel3.util.experimental.loadMemoryFromFileInline" class="extype">loadMemoryFromFileInline</a> is an annotation generator that helps with loading a memory from a text file inlined in
the Verilog module.</p><div class="fullcomment"><div class="comment cmt"><p><a href="loadMemoryFromFileInline$.html" name="chisel3.util.experimental.loadMemoryFromFileInline" id="chisel3.util.experimental.loadMemoryFromFileInline" class="extype">loadMemoryFromFileInline</a> is an annotation generator that helps with loading a memory from a text file inlined in
the Verilog module. This relies on Verilator and Verilog's <code>$readmemh</code> or <code>$readmemb</code>.</p><p>This annotation, when the FIRRTL compiler runs, triggers the <code>MemoryFileInlineAnnotation</code> that will add Verilog
directives inlined to the module enabling the specified memories to be initialized from files.
The module supports both <code>hex</code> and <code>bin</code> files by passing the appropriate <code>MemoryLoadFileType.FileType</code><code> argument with
<code>MemoryLoadFileType.Hex</code> or </code>MemoryLoadFileType.Binary<code>. Hex is the default.</code></p><h4>Example module</h4><p>Consider a simple Module containing a memory:</p><pre><span class="kw">import</span> chisel3._
<span class="kw">class</span> UsesMem(memoryDepth: <span class="std">Int</span>, memoryType: Data) <span class="kw">extends</span> Module {
  <span class="kw">val</span> io = IO(<span class="kw">new</span> Bundle {
    <span class="kw">val</span> address = Input(UInt(memoryType.getWidth.W))
    <span class="kw">val</span> value   = Output(memoryType)
  })
  <span class="kw">val</span> memory = Mem(memoryDepth, memoryType)
  io.value := memory(io.address)
}</pre><h4>Above module with annotation</h4><p>To load this memory from the file <code>/workspace/workdir/mem1.hex.txt</code> just add an import and annotate the memory:</p><pre><span class="kw">import</span> chisel3._
<span class="kw">import</span> chisel3.util.experimental.loadMemoryFromFileInline   <span class="cmt">// &lt;&lt;-- new import here</span>
<span class="kw">class</span> UsesMem(memoryDepth: <span class="std">Int</span>, memoryType: Data) <span class="kw">extends</span> Module {
  <span class="kw">val</span> io = IO(<span class="kw">new</span> Bundle {
    <span class="kw">val</span> address = Input(UInt(memoryType.getWidth.W))
    <span class="kw">val</span> value   = Output(memoryType)
  })
  <span class="kw">val</span> memory = Mem(memoryDepth, memoryType)
  io.value := memory(io.address)
  loadMemoryFromFileInline(memory, <span class="lit">"/workspace/workdir/mem1.hex.txt"</span>)  <span class="cmt">// &lt;&lt;-- Note the annotation here</span>
}</pre><h4>Example file format</h4><p>A memory file should consist of ASCII text in either hex or binary format. The following example shows such a
file formatted to use hex:</p><pre> <span class="num">0</span>
 <span class="num">7</span>
 d
<span class="num">15</span></pre><p>A binary file can be similarly constructed.
Chisel does not validate the file format or existence. It is supposed to be in a path accessible by the synthesis
tool together with the generated Verilog.
</p></div><dl class="attributes block"><dt>See also</dt><dd><span class="cmt"><p>Chisel3 Wiki entry on
<a href="https://github.com/freechipsproject/chisel3/wiki/Chisel-Memories#loading-memories-in-simulation" target="_blank">"Loading Memories
in Simulation"</a></p></span></dd></dl></div></li></ol></div></div><div id="inheritedMembers"></div><div id="groupedMembers"><div name="Ungrouped" class="group"><h3>Ungrouped</h3></div></div></div><div id="tooltip"></div><div id="footer"></div></body></div></div></div></body></html>
