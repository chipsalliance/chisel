name: Setup OSS CAD Suite

on:
  workflow_call:

jobs:
  setup_oss_cad_suite:
    # TODO does this need a runs, can it derive from the caller?
    runs-on: ubuntu-20.04

    steps:
      - name: Install Tabby OSS Cad Suite
        run:
          VERSION="2021-11-09"
          ARTIFACT=oss-cad-suite-linux-x64-$(echo $VERSION | tr -d '-')
          wget https://github.com/YosysHQ/oss-cad-suite-build/releases/download/${VERSION}/${ARTIFACT}.tgz -O - | tar -zx
          echo "$(pwd)/oss-cad-suite/bin" >> $GITHUB_PATH

